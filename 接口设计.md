# 接口文档

## 新建文档

| HTTP方法 | URL   | 查询参数                       | 请求体 | 响应体                           |
| -------- | ----- | ------------------------------ | ------ | -------------------------------- |
| POST     | /docu | docu_name（默认值为 untitled） | 无     | {"docu_config":docu_config_dict} |

##保存文档

| HTTP方法 | URL   | 查询参数 | 请求体                  | 响应体                      |
| -------- | ----- | -------- | ----------------------- | --------------------------- |
| GET      | /docu | 无       | {"save_path":save_path} | {"save_result":save_result} |

## 打开文档

| HTTP方法 | URL   | 查询参数 | 请求体                     | 响应体                                                       |
| -------- | ----- | -------- | -------------------------- | :----------------------------------------------------------- |
| PUT      | /docu | 无       | {"docu_path":path_to_file} | {"docu_config":docu_config_dict} / {"open_result":failure_information} |

## 增加块

| HTTP方法 | URL   | 查询参数                 | 请求体 | 响应体              |
| -------- | ----- | ------------------------ | ------ | ------------------- |
| POST     | /cell | cell_type、target_loc | {"cell_config":cell_config_dict} | {"cell_config":cell_config_dict} / {"add_result":failure_information} |

## 删除块

| HTTP方法 | URL   | 查询参数 | 请求体 | 响应体                                                       |
| -------- | ----- | -------- | ------ | ------------------------------------------------------------ |
| DELETE   | /cell | cell_id  | 无     | {"cell_config":cell_config_dict} / {"rm_result":failure_information} |

## 浮动块

| HTTP方法 | URL       | 查询参数 | 请求体                  | 响应体                                                       |
| -------- | --------- | -------- | ----------------------- | ------------------------------------------------------------ |
| PATCH    | /cell/loc | cell_id, | {"direction":direction} | {"cell_config":cell_config_dict} / {"mov_result":failure_information} |

## 编辑块

| HTTP方法 | URL   | 查询参数           | 请求体                      | 响应体                                                       |
| -------- | ----- | ------------------ | --------------------------- | ------------------------------------------------------------ |
| PATCH    | /cell | cell_id，edit_elem | {"new_content":new_content} | {"cell_config":cell_config_dict} / {"edit_result":failure_information} |

## 上传数据

| HTTP方法 | URL   | 查询参数 | 请求体                                        | 响应体                                                       |
| -------- | ----- | -------- | --------------------------------------------- | ------------------------------------------------------------ |
| POST     | /data | 无       | {"data_path":data_path,"sheet_num":sheet_num} | {"data_config":data_config_dict} / {"upload_result":failure_information} |

## 调用算子块

| HTTP方法 | URL      | 查询参数                  | 请求体 | 响应体                                                       |
| -------- | -------- | ------------------------- | ------ | ------------------------------------------------------------ |
| POST     | /docu/op | cell_id（必须为算子块id） | 无     | {"op_config":op_config_dict} / {"op_result":failure_information} |